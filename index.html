function calculateFees() {
  const level = document.getElementById('level').value;
  const subjects = parseInt(document.getElementById('subjects').value);
  const siblings = parseInt(document.getElementById('siblings').value);
  const paymentPlan = document.getElementById('paymentPlan').value;

  const baseFeePerSubject = getBaseFee(level); // Fetch the base fee for the level
  const baseFee = baseFeePerSubject * subjects; 

  const bundleDiscount = calculateBundleDiscount(subjects);
  const siblingDiscount = calculateSiblingDiscount(siblings, baseFee);
  const paymentPlanDiscount = calculatePaymentPlanDiscount(paymentPlan, baseFee);

  const registrationFee = 30;
  const materialsFee = 60;
  const refundableDeposit = 50;

  let totalBeforeGST = baseFee - bundleDiscount - siblingDiscount - paymentPlanDiscount + registrationFee + materialsFee + refundableDeposit;
  let gst = totalBeforeGST * 0.09;
  let total = totalBeforeGST + gst;

  // Update the table with the breakdown
  document.getElementById('baseFee').innerText = `$${baseFee.toFixed(2)}`;
  document.getElementById('bundleDiscount').innerText = `$${bundleDiscount.toFixed(2)}`;
  document.getElementById('siblingDiscount').innerText = `$${siblingDiscount.toFixed(2)}`;
  document.getElementById('paymentPlanDiscount').innerText = `$${paymentPlanDiscount.toFixed(2)}`;
  document.getElementById('gstAmount').innerText = `$${gst.toFixed(2)}`;
  document.getElementById('totalFee').innerText = `$${total.toFixed(2)}`;

  document.getElementById('feeBreakdown').style.display = 'block';
}

function getBaseFee(level) {
  const fees = {
    'K2': 200,
    'Primary 1': 220,
    'Primary 2': 220,
    'Primary 3': 250,
    'Primary 4': 250,
    'Primary 5': 280,
    'Primary 6': 280,
    'Secondary 1': 320,
    'Secondary 2': 320,
    'Secondary 3': 350,
    'O/N Levels': 400
  };
  return fees[level] || 0;
}

function calculateBundleDiscount(subjects) {
  if (subjects > 3) {
    return (subjects - 3) * 10;
  }
  return 0;
}

function calculateSiblingDiscount(siblings, baseFee) {
  if (siblings > 0) {
    return baseFee * 0.05;
Here's the full compiled code with all the functionality and design improvements, including sibling discounts, registration fees, and a breakdown of the fees in a visually appealing way.

### Full Updated HTML:
```html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tuition Fee Calculator</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container">
    <h1>Tuition Fee Calculator</h1>
    <div class="controls">
      <label for="level">Select Level:</label>
      <select id="level">
        <option value="K2">K2</option>
        <option value="Primary 1">Primary 1</option>
        <option value="Primary 2">Primary 2</option>
        <option value="Primary 3">Primary 3</option>
        <option value="Primary 4">Primary 4</option>
        <option value="Primary 5">Primary 5</option>
        <option value="Primary 6">Primary 6</option>
        <option value="Secondary 1">Secondary 1</option>
        <option value="Secondary 2">Secondary 2</option>
        <option value="Secondary 3">Secondary 3</option>
        <option value="O/N Levels">O/N Levels</option>
      </select>

      <label for="subjects">Number of Subjects:</label>
      <input type="number" id="subjects" min="1" value="1">
      
      <label for="siblings">Number of Siblings Enrolled:</label>
      <input type="number" id="siblings" min="0" value="0">
      
      <label for="paymentPlan">Payment Plan:</label>
      <select id="paymentPlan">
        <option value="none">None</option>
        <option value="halfYearly">Half-Yearly (2% off)</option>
        <option value="annually">Annually (5% off)</option>
      </select>

      <button onclick="calculateFees()">Calculate Fees</button>
    </div>

    <div class="fee-breakdown" id="feeBreakdown" style="display:none;">
      <h2>Fee Breakdown</h2>
      <table id="feeTable" class="styled-table">
        <thead>
          <tr>
            <th>Description</th>
            <th>Amount (SGD)</th>
          </tr>
        </thead>
        <tbody id="breakdownTable">
          <tr>
            <td>Programme Fee (Base, per subject)</td>
            <td id="baseFee">--</td>
          </tr>
          <tr>
            <td>Bundle Discount (per subject)</td>
            <td id="bundleDiscount">--</td>
          </tr>
          <tr>
            <td>Sibling Discount (if applicable)</td>
            <td id="siblingDiscount">--</td>
          </tr>
          <tr>
            <td>Additional Payment Plan Discount</td>
            <td id="paymentPlanDiscount">--</td>
          </tr>
          <tr>
            <td>Registration Fee (one-time)</td>
            <td>$30</td>
          </tr>
          <tr>
            <td>LMS & Materials Fee (per semester)</td>
            <td>$60</td>
          </tr>
          <tr>
            <td>Refundable Deposit (per programme)</td>
            <td>$50</td>
          </tr>
          <tr>
            <td>GST (9%)</td>
            <td id="gstAmount">--</td>
          </tr>
          <tr>
            <td><b>Total Fee</b></td>
            <td id="totalFee"><b>--</b></td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>
